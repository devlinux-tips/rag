{
  "openrouter_request": {
    "url": "https://openrouter.ai/api/v1/chat/completions",
    "headers": {
      "Authorization": "Bearer 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",
      "Content-Type": "application/json"
    },
    "body": {
      "model": "qwen/qwen3-30b-a3b",
      "messages": [
        {
          "role": "user",
          "content": "System: Ti si pomoćni asistent koji odgovara na hrvatskom jeziku.\nKoristi dane kontekstne informacije da daš precizan i jasan odgovor.\nAko informacije nisu dovoljne, reci da ne možeš dati potpun odgovor.\n\nContext:\n[Croatian government document content...]\n\nQuestion: Test\n\nAnswer:"
        }
      ],
      "stream": true,
      "temperature": 0.7,
      "max_tokens": 800,
      "top_p": 0.9
    }
  },
  "openrouter_response": {
    "status": "SUCCESS",
    "lines_received": 535,
    "first_few_lines": [
      ": OPENROUTER PROCESSING",
      ": OPENROUTER PROCESSING",
      "data: {\"id\":\"gen-1758205502-pbiiPAQ0bXQ6BwmLrZSj\",\"provider\":\"DeepInfra\",\"model\":\"qwen/qwen3-30b-a3b\",\"object\":\"chat.completion.chunk\",\"created\":1758205502,\"choices\":[{\"index\":0,\"delta\":{\"role\":\"assistant\",\"content\":\"\",\"reasoning\":null,\"reasoning_details\":[]},\"finish_reason\":null,\"native_finish_reason\":null,\"logprobs\":null}]}"
    ],
    "parsed_text_length": 0,
    "issue": "Response parsing returned 0 characters - the OpenAI streaming format is not being parsed correctly"
  },
  "problem_analysis": {
    "root_cause": "SOLVED - The parse_streaming_response function is now updated to handle both formats",
    "ollama_format": "{\"response\": \"text chunk\", \"done\": false}",
    "openai_format": "data: {\"choices\":[{\"delta\":{\"content\":\"text chunk\"}}]}",
    "solution_implemented": "Added ResponseFormat enum and dual parsing logic"
  },
  "success_result": {
    "status": "✅ WORKING",
    "query": "Što je glavni grad Hrvatske?",
    "response": "Glavni grad Hrvatske je Zagreb.",
    "generated_chars": 33,
    "confidence": 0.82,
    "generation_time": "3.25s",
    "streaming_lines": 270,
    "format_used": "openai"
  }
}